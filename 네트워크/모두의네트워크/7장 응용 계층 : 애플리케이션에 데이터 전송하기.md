# 28 응용 계층의 역할

### **응용 계층(세션 계층, 표현 계층 포함)**

사용자 측(클라이언트)의 요청을 전달하기 위해 통신 대상(서버 등)이 이해할 수 있는 메시지(데이터)로 변환하고 전송 계층으로 전달하는 역할을 한다. 클라이언트 측 애플리케이션이 서버 측 애플리케이션과 통신하려면 응용 계층의 프로토콜을 사용해야 한다.

|프로토콜|내용|
|:---:|:---:|
|HTTP|웹 사이트 접속|
|DNS|이름 해석|
|FTP|파일 전송|
|SMTP|메일 송신|
|POP3|메일 수신|

![https://user-images.githubusercontent.com/57691894/131333306-95920fe8-82ee-469e-8c45-bba53ecb454b.png](https://user-images.githubusercontent.com/57691894/131333306-95920fe8-82ee-469e-8c45-bba53ecb454b.png)

# 29 웹 서버의 구조(웹 사이트 접속)

### WWW (World Wide Web, W3)

HTML, URI, HTTP라는 세 가지 기술이 사용된다.

### HTML (HyperText Markup Language)

웹 페이지에서 문장 구조나 문자를 꾸미는 태그를 사용하여 작성하는 마크업 언어.
하이퍼텍스트(hypertext)를 작성하는 마크업 언어라고도 한다. 하이퍼텍스트로는 문자와 이미지를 표시하거나 하이퍼링크(hyperlink)를 사용할 수 있다.

웹 서버에서 웹 브라우저로 전송되는 html 파일과 이미지 파일을 사용자가 보는 것이다.

### HTTP

**HTTP/1.0 버전**에서는 클라이언트가 요청을 보낼 때마다 서버가 응답을 주면 연결을 끊는 작업을 반복했다.

**HTTP/1.1 버전**부터 **keepalive** 기능이 추가되면서 연결을 한 번 수립하면 데이터 교환을 마칠 때까지 유지하고, 데이터 교환을 모두 끝내면 연결을 끊는 구조로 바뀌었다.

**HTTP/2.0 버전**은 요청을 보낸 순서대로 응답을 반환하지 않아도 된다. 덕분에 콘텐츠를 빠르게 표시할 수 있다.

# 30 DNS 서버의 구조(이름 해석)

### DNS

- DNS는 URL을 IP 주소로 변환하는 서비스(시스템)이다.
- 222.235.64.222와 같이 숫자로 구성되어 있는 IP 주소는 기억하기 힘들기 때문에 [http://www.gilbut.co.kr](http://www.gilbut.co.kr같은ㅌ) 같은 주소를 사용한다. 이를 **DNS의 이름 해석(name resolution)**이라고 한다.
- 요청받은 DNS 서버가 해당 도메인의 이름의 IP 주소를 모르는 경우에는 다른 DNS 서버에 질의한다.
- DNS 서버는 전 세계에 흩어져 있고 모두 계층적으로 연결되어 있다.

### 컴퓨터와 DNS 서버 간에 일어나는 IP 주소 교환

1. 컴퓨터가 DNS 서버에 www.ㅁㅁㅁ.co.kr 의 IP 주소를 묻는다.
2. DNS 서버는 해당 요청에 해당하는 도메인 이름의 IP 주소를 알려 준다.
3. 컴퓨터는 IP 주소로 서버에 접속한다.

URL에는 호스트 이름과 도메인 이름이 있는데, gilbut.co.kr은 도메인 이름이고 www는 호스트 이름이다.

# 31 메일 서버의 구조(SMTP와 POP3)

- **SMTP : 메일을 보내는 데 사용되는 프로토콜 (포트번호 25)**
- **POP3 : 메일을 받는 데 사용되는 프로토콜 (포트번호 110)**

### 메일 송수신 과정

1. SMTP를 사용하여 컴퓨터A에서 메일 서버1로 메일을 보낸다.
2. SMTP를 사용하여 메일 서버1에서 메일 서버2로 메일을 보낸다.
3. POP3를 사용하여 메일 서버2에서 컴퓨터B로 메일 데이터를 보낸다.

### 1. SMTP에 의한 메일 송신

**컴퓨터A ↔ 메일 서버1**

1. 세션 시작을 통지한다.
2. 송신자의 메일 주소를 통지한다.
3. 목적지 메일 주소를 통지한다.
4. 메일 본문 전송을 통지한다.
5. 메일 본문을 송신한다.
6. 세션 종료를 통지한다.

### 2. SMTP에 의한 메일 전송

**메일 서버1 ↔ 메일 서버2**

1. SMTP를 사용하여 메일 서버1에서 메일 서버 2로 메일을 전송한다.
- 메일 서버에는 **메일 박스**가 있는데 여기에 메일을 보관한다.

### 3. POP3에 의한 메일 수신

- 메일 서버2에 컴퓨터A의 메일이 도착하면 컴퓨터B는 메일 서버2의 메일 박스에 있는 메일을 받아 가야 한다.
- 메일 수신 시에는 사용자 이름과 비밀번호를 이용한 **사용자 인증**이 필요하다.
- 

**메일 서버2 ↔ 컴퓨터B**

1. 세션 시작을 통지한다.
2. 수신자의 사용자 이름을 통지한다.
3. 수신자의 비밀번호를 통지한다.
4. 메일을 확인한다.
5. 메일의 전송을 요청한다.
6. 세션 종료를 통지한다.
